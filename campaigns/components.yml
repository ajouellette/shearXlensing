# List of reusable components
# no runs defined here
runs: []

components:
    fisher:
        params:
            - sampler = fisher
    
    polychord_fast:
        params:
            - sampler = polychord

    polychord_accurate:
        params:
            - sampler = polychord
            - polychord.live_points = 15d
            - polychord.tolerance = 0.05

    sample_s8:  # sample S8 instead of As variants
        values:
            - del cosmological_parameters.a_s
            - del cosmological_parameters.log1e10As
            - del cosmological_parameters.a_s_1e9
            - cosmological_parameters.S_8 = 0.3  0.83  1.3

    free_tau:  # sample tau
        values:
            - cosmological_parameters.tau = 0.0  0.0544  1.0

    free_Alens:  # sample A_lens
        values:
            - cosmological_parameters.a_lens = 0.0  1.0  4.0

    amod:
        pipeline:
            - after camb amod
        values:
            - amod_parameter.a_mod = 0.0  1.0  2.0

    planck_TT_Alens:
        pipeline:
            - append planck_like_TT
        values:
            - cosmological_parameters.tau = 0.0  0.0544  1.0
            - cosmological_parameters.a_lens = 0.0  1.0  4.0

    planck_TTTEEE:
        pipeline:
            - append planck_like_full
        values:
            - cosmological_parameters.tau = 0.0  0.0544  1.0

    feedback:  # use HMCode with baryonic feedback, marginalizing over log T_agn
        params:
            - camb.halofit_version = mead2020_feedback
        values:
            - halo_model_parameters.logT_agn = 7.3  7.8  8.3

    no_ia:  # no IA
        pipeline:
            - del fast_pt IA add_intrinsic
        params:
            - pk_to_cl_shear.shear-intrinsic = F
            - pk_to_cl_shear.intrinsic-intrinsic = F
            - pk_to_cl_shear.intrinsicb-intrinsicb = F
            - pk_to_cl_shear_kappa.intrinsic-cmbkappa = F
        values:
            - del intrinsic_alignment_parameters
        priors:
            - del intrinsic_alignment_parameters

    nla_const_ia:  # NLA model with constant amplitude
        params:
          - IA.ia_model = nla
        values:
            - intrinsic_alignment_parameters.alpha1 = 0.0
            - intrinsic_alignment_parameters.a2 = 0.0
            - intrinsic_alignment_parameters.alpha2 = 0.0
            - intrinsic_alignment_parameters.bias_ta = 0.0
    
    nla_ia:  # NLA model with power law amplitude
        params:
            - IA.ia_model = nla
        values:
            - intrinsic_alignment_parameters.a2 = 0.0
            - intrinsic_alignment_parameters.alpha2 = 0.0
            - intrinsic_alignment_parameters.bias_ta = 0.0

    ia_gaussian_priors:  # apply Gaussian (instead of uniform) priors on IA params
        priors:
            - intrinsic_alignment_parameters.a1 = gaussian 0.0 3.0
            - intrinsic_alignment_parameters.a2 = gaussian 0.0 3.0
            - intrinsic_alignment_parameters.alpha1 = gaussian 0.0 3.0
            - intrinsic_alignment_parameters.alpha2 = gaussian 0.0 3.0

    mean_zero_shear_corr:  # set the mean of the shear calibration priors to zero
        priors:
            - shear_calibration_parameters.m1 = gaussian 0.0 0.0091
            - shear_calibration_parameters.m2 = gaussian 0.0 0.0078
            - shear_calibration_parameters.m3 = gaussian 0.0 0.0076
            - shear_calibration_parameters.m4 = gaussian 0.0 0.0076

    # fiducial DES shear scale cuts for 2pt_like
    scale_cuts_shear_2pt:
        params:
            - 2pt_like.angle_range_shear_cl_1_1 = 0.0 742.7
            - 2pt_like.angle_range_shear_cl_2_1 = 0.0 341.0
            - 2pt_like.angle_range_shear_cl_2_2 = 0.0 366.4
            - 2pt_like.angle_range_shear_cl_3_1 = 0.0 321.9
            - 2pt_like.angle_range_shear_cl_3_2 = 0.0 260.1
            - 2pt_like.angle_range_shear_cl_3_3 = 0.0 300.8
            - 2pt_like.angle_range_shear_cl_4_1 = 0.0 373.1
            - 2pt_like.angle_range_shear_cl_4_2 = 0.0 291.5
            - 2pt_like.angle_range_shear_cl_4_3 = 0.0 269.4
            - 2pt_like.angle_range_shear_cl_4_4 = 0.0 367.9

    # fiducial DES shear scale cuts for sacc_like
    scale_cuts_shear_sacc:
        params:
            - sacc_like.angle_range_cl_ee_wl_0_wl_0 = 0.0 742.7
            - sacc_like.angle_range_cl_ee_wl_0_wl_1 = 0.0 341.0
            - sacc_like.angle_range_cl_ee_wl_1_wl_1 = 0.0 366.4
            - sacc_like.angle_range_cl_ee_wl_0_wl_2 = 0.0 321.9
            - sacc_like.angle_range_cl_ee_wl_1_wl_2 = 0.0 260.1
            - sacc_like.angle_range_cl_ee_wl_2_wl_2 = 0.0 300.8
            - sacc_like.angle_range_cl_ee_wl_0_wl_3 = 0.0 373.1
            - sacc_like.angle_range_cl_ee_wl_1_wl_3 = 0.0 291.5
            - sacc_like.angle_range_cl_ee_wl_2_wl_3 = 0.0 269.4
            - sacc_like.angle_range_cl_ee_wl_3_wl_3 = 0.0 367.9

    # fiducial kappa x shear scale cuts for sacc_like
    scale_cuts_cross:
        params:
            - sacc_like.angle_range_cl_0e_wl_0_ck_0 = 0.0 2000.0
            - sacc_like.angle_range_cl_0e_wl_1_ck_0 = 0.0 2000.0
            - sacc_like.angle_range_cl_0e_wl_2_ck_0 = 0.0 2000.0
            - sacc_like.angle_range_cl_0e_wl_3_ck_0 = 0.0 2000.0


    no_scale_cuts:
    # remove all shear scale cuts
        params:
          - del 2pt_like.angle_range_shear_cl_1_1
          - del 2pt_like.angle_range_shear_cl_2_1
          - del 2pt_like.angle_range_shear_cl_2_2
          - del 2pt_like.angle_range_shear_cl_3_1
          - del 2pt_like.angle_range_shear_cl_3_2
          - del 2pt_like.angle_range_shear_cl_3_3
          - del 2pt_like.angle_range_shear_cl_4_1
          - del 2pt_like.angle_range_shear_cl_4_2
          - del 2pt_like.angle_range_shear_cl_4_3
          - del 2pt_like.angle_range_shear_cl_4_4

    # scale cuts corresponding to given kmax (h / Mpc, Planck18 cosmo, logTagn = 7.8, IA = 0.44/0.0 for full/blue)
    # k = 1, 2.5, 5, 10
    scale_cuts_shear_shear_kmax1:
        params:
          - sacc_like.angle_range_cl_ee_wl_0_wl_0 = 0.0 81.6
          - sacc_like.angle_range_cl_ee_wl_0_wl_1 = 0.0 103.7
          - sacc_like.angle_range_cl_ee_wl_0_wl_2 = 0.0 117.3
          - sacc_like.angle_range_cl_ee_wl_0_wl_3 = 0.0 123.0
          - sacc_like.angle_range_cl_ee_wl_1_wl_1 = 0.0 139.7
          - sacc_like.angle_range_cl_ee_wl_1_wl_2 = 0.0 165.1
          - sacc_like.angle_range_cl_ee_wl_1_wl_3 = 0.0 174.6
          - sacc_like.angle_range_cl_ee_wl_2_wl_2 = 0.0 206.2
          - sacc_like.angle_range_cl_ee_wl_2_wl_3 = 0.0 222.4
          - sacc_like.angle_range_cl_ee_wl_3_wl_3 = 0.0 247.2

    scale_cuts_blue_shear_shear_kmax1:
        params:
          - sacc_like.angle_range_cl_ee_wl_0_wl_0 = 0.0 95.9
          - sacc_like.angle_range_cl_ee_wl_0_wl_1 = 0.0 115.0
          - sacc_like.angle_range_cl_ee_wl_0_wl_2 = 0.0 130.9
          - sacc_like.angle_range_cl_ee_wl_0_wl_3 = 0.0 140.1
          - sacc_like.angle_range_cl_ee_wl_1_wl_1 = 0.0 141.5
          - sacc_like.angle_range_cl_ee_wl_1_wl_2 = 0.0 164.7
          - sacc_like.angle_range_cl_ee_wl_1_wl_3 = 0.0 178.0
          - sacc_like.angle_range_cl_ee_wl_2_wl_2 = 0.0 196.2
          - sacc_like.angle_range_cl_ee_wl_2_wl_3 = 0.0 214.4
          - sacc_like.angle_range_cl_ee_wl_3_wl_3 = 0.0 240.0

    scale_cuts_shear_kappa_kmax1:
        params:
          - sacc_like.angle_range_cl_0e_wl_0_ck_0 = 0.0 159.9
          - sacc_like.angle_range_cl_0e_wl_1_ck_0 = 0.0 218.1
          - sacc_like.angle_range_cl_0e_wl_2_ck_0 = 0.0 280.6
          - sacc_like.angle_range_cl_0e_wl_3_ck_0 = 0.0 339.5

    scale_cuts_blue_shear_kappa_kmax1:
        params:
          - sacc_like.angle_range_cl_0e_wl_0_ck_0 = 0.0 193.2
          - sacc_like.angle_range_cl_0e_wl_1_ck_0 = 0.0 238.0
          - sacc_like.angle_range_cl_0e_wl_2_ck_0 = 0.0 282.1
          - sacc_like.angle_range_cl_0e_wl_3_ck_0 = 0.0 340.6


    scale_cuts_shear_shear_kmax2.5:
        params:
          - sacc_like.angle_range_cl_ee_wl_0_wl_0 = 0.0 234.6
          - sacc_like.angle_range_cl_ee_wl_0_wl_1 = 0.0 296.5
          - sacc_like.angle_range_cl_ee_wl_0_wl_2 = 0.0 333.6
          - sacc_like.angle_range_cl_ee_wl_0_wl_3 = 0.0 349.0
          - sacc_like.angle_range_cl_ee_wl_1_wl_1 = 0.0 397.9
          - sacc_like.angle_range_cl_ee_wl_1_wl_2 = 0.0 467.8
          - sacc_like.angle_range_cl_ee_wl_1_wl_3 = 0.0 493.3
          - sacc_like.angle_range_cl_ee_wl_2_wl_2 = 0.0 581.8
          - sacc_like.angle_range_cl_ee_wl_2_wl_3 = 0.0 622.8
          - sacc_like.angle_range_cl_ee_wl_3_wl_3 = 0.0 687.2

    scale_cuts_blue_shear_shear_kmax2.5:
        params:
          - sacc_like.angle_range_cl_ee_wl_0_wl_0 = 0.0 275.1
          - sacc_like.angle_range_cl_ee_wl_0_wl_1 = 0.0 328.1
          - sacc_like.angle_range_cl_ee_wl_0_wl_2 = 0.0 371.4
          - sacc_like.angle_range_cl_ee_wl_0_wl_3 = 0.0 396.1
          - sacc_like.angle_range_cl_ee_wl_1_wl_1 = 0.0 401.3
          - sacc_like.angle_range_cl_ee_wl_1_wl_2 = 0.0 464.8
          - sacc_like.angle_range_cl_ee_wl_1_wl_3 = 0.0 500.3
          - sacc_like.angle_range_cl_ee_wl_2_wl_2 = 0.0 551.3
          - sacc_like.angle_range_cl_ee_wl_2_wl_3 = 0.0 599.9
          - sacc_like.angle_range_cl_ee_wl_3_wl_3 = 0.0 667.1

    scale_cuts_shear_kappa_kmax2.5:
        params:
          - sacc_like.angle_range_cl_0e_wl_0_ck_0 = 0.0 450.0
          - sacc_like.angle_range_cl_0e_wl_1_ck_0 = 0.0 607.9
          - sacc_like.angle_range_cl_0e_wl_2_ck_0 = 0.0 780.5
          - sacc_like.angle_range_cl_0e_wl_3_ck_0 = 0.0 929.6

    scale_cuts_blue_shear_kappa_kmax2.5:
        params:
          - sacc_like.angle_range_cl_0e_wl_0_ck_0 = 0.0 535.0
          - sacc_like.angle_range_cl_0e_wl_1_ck_0 = 0.0 656.2
          - sacc_like.angle_range_cl_0e_wl_2_ck_0 = 0.0 780.2
          - sacc_like.angle_range_cl_0e_wl_3_ck_0 = 0.0 929.4


    scale_cuts_shear_shear_kmax5:
        params:
          - sacc_like.angle_range_cl_ee_wl_0_wl_0 = 0.0 578.2
          - sacc_like.angle_range_cl_ee_wl_0_wl_1 = 0.0 728.4
          - sacc_like.angle_range_cl_ee_wl_0_wl_2 = 0.0 818.3
          - sacc_like.angle_range_cl_ee_wl_0_wl_3 = 0.0 853.8
          - sacc_like.angle_range_cl_ee_wl_1_wl_1 = 0.0 972.5
          - sacc_like.angle_range_cl_ee_wl_1_wl_2 = 0.0 1138.7
          - sacc_like.angle_range_cl_ee_wl_1_wl_3 = 0.0 1197.2
          - sacc_like.angle_range_cl_ee_wl_2_wl_2 = 0.0 1405.6
          - sacc_like.angle_range_cl_ee_wl_2_wl_3 = 0.0 1506.8
          - sacc_like.angle_range_cl_ee_wl_3_wl_3 = 0.0 1657.0

    scale_cuts_blue_shear_shear_kmax5:
        params:
          - sacc_like.angle_range_cl_ee_wl_0_wl_0 = 0.0 678.1
          - sacc_like.angle_range_cl_ee_wl_0_wl_1 = 0.0 805.4
          - sacc_like.angle_range_cl_ee_wl_0_wl_2 = 0.0 909.8
          - sacc_like.angle_range_cl_ee_wl_0_wl_3 = 0.0 966.6
          - sacc_like.angle_range_cl_ee_wl_1_wl_1 = 0.0 979.8
          - sacc_like.angle_range_cl_ee_wl_1_wl_2 = 0.0 1132.1
          - sacc_like.angle_range_cl_ee_wl_1_wl_3 = 0.0 1214.4
          - sacc_like.angle_range_cl_ee_wl_2_wl_2 = 0.0 1338.8
          - sacc_like.angle_range_cl_ee_wl_2_wl_3 = 0.0 1453.3
          - sacc_like.angle_range_cl_ee_wl_3_wl_3 = 0.0 1610.0

    scale_cuts_shear_kappa_kmax5:
        params:
          - sacc_like.angle_range_cl_0e_wl_0_ck_0 = 0.0 1071.4
          - sacc_like.angle_range_cl_0e_wl_1_ck_0 = 0.0 1451.2
          - sacc_like.angle_range_cl_0e_wl_2_ck_0 = 0.0 1871.1
          - sacc_like.angle_range_cl_0e_wl_3_ck_0 = 0.0 2216.0

    scale_cuts_blue_shear_kappa_kmax5:
        params:
          - sacc_like.angle_range_cl_0e_wl_0_ck_0 = 0.0 1265.8
          - sacc_like.angle_range_cl_0e_wl_1_ck_0 = 0.0 1563.2
          - sacc_like.angle_range_cl_0e_wl_2_ck_0 = 0.0 1867.3
          - sacc_like.angle_range_cl_0e_wl_3_ck_0 = 0.0 2212.8


    scale_cuts_shear_shear_kmax10:
        params:
          - sacc_like.angle_range_cl_ee_wl_0_wl_0 = 0.0 1303.9
          - sacc_like.angle_range_cl_ee_wl_0_wl_1 = 0.0 1638.2
          - sacc_like.angle_range_cl_ee_wl_0_wl_2 = 0.0 1847.8
          - sacc_like.angle_range_cl_ee_wl_0_wl_3 = 0.0 1932.0
          - sacc_like.angle_range_cl_ee_wl_1_wl_1 = 0.0 2159.7
          - sacc_like.angle_range_cl_ee_wl_1_wl_2 = 0.0 2525.0
          - sacc_like.angle_range_cl_ee_wl_1_wl_3 = 0.0 2657.1
          - sacc_like.angle_range_cl_ee_wl_2_wl_2 = 0.0 3108.6
          - sacc_like.angle_range_cl_ee_wl_2_wl_3 = 0.0 3334.8
          - sacc_like.angle_range_cl_ee_wl_3_wl_3 = 0.0 3679.8

    scale_cuts_blue_shear_shear_kmax10:
        params:
          - sacc_like.angle_range_cl_ee_wl_0_wl_0 = 0.0 1535.7
          - sacc_like.angle_range_cl_ee_wl_0_wl_1 = 0.0 1817.2
          - sacc_like.angle_range_cl_ee_wl_0_wl_2 = 0.0 2053.6
          - sacc_like.angle_range_cl_ee_wl_0_wl_3 = 0.0 2186.5
          - sacc_like.angle_range_cl_ee_wl_1_wl_1 = 0.0 2195.3
          - sacc_like.angle_range_cl_ee_wl_1_wl_2 = 0.0 2530.7
          - sacc_like.angle_range_cl_ee_wl_1_wl_3 = 0.0 2718.9
          - sacc_like.angle_range_cl_ee_wl_2_wl_2 = 0.0 2975.9
          - sacc_like.angle_range_cl_ee_wl_2_wl_3 = 0.0 3231.1
          - sacc_like.angle_range_cl_ee_wl_3_wl_3 = 0.0 3587.2

    scale_cuts_shear_kappa_kmax10:
        params:
          - sacc_like.angle_range_cl_0e_wl_0_ck_0 = 0.0 2423.8
          - sacc_like.angle_range_cl_0e_wl_1_ck_0 = 0.0 3218.6
          - sacc_like.angle_range_cl_0e_wl_2_ck_0 = 0.0 4104.4
          - sacc_like.angle_range_cl_0e_wl_3_ck_0 = 0.0 4899.4

    scale_cuts_blue_shear_kappa_kmax10:
        params:
          - sacc_like.angle_range_cl_0e_wl_0_ck_0 = 0.0 2878.9
          - sacc_like.angle_range_cl_0e_wl_1_ck_0 = 0.0 3508.7
          - sacc_like.angle_range_cl_0e_wl_2_ck_0 = 0.0 4126.0
          - sacc_like.angle_range_cl_0e_wl_3_ck_0 = 0.0 4903.7


    del_scale_cuts_shear_shear:
    # remove all shear-shear scale cuts
        params:
            - del sacc_like.angle_range_cl_ee_wl_0_wl_0
            - del sacc_like.angle_range_cl_ee_wl_0_wl_1
            - del sacc_like.angle_range_cl_ee_wl_0_wl_2
            - del sacc_like.angle_range_cl_ee_wl_0_wl_3
            - del sacc_like.angle_range_cl_ee_wl_1_wl_1
            - del sacc_like.angle_range_cl_ee_wl_1_wl_2
            - del sacc_like.angle_range_cl_ee_wl_1_wl_3
            - del sacc_like.angle_range_cl_ee_wl_2_wl_2
            - del sacc_like.angle_range_cl_ee_wl_2_wl_3
            - del sacc_like.angle_range_cl_ee_wl_3_wl_3

    del_scale_cuts_shear_kappa:
    # remove all shear-kappa scale cuts
        params:
            - del sacc_like.angle_range_cl_0e_wl_0_ck_0
            - del sacc_like.angle_range_cl_0e_wl_1_ck_0
            - del sacc_like.angle_range_cl_0e_wl_2_ck_0
            - del sacc_like.angle_range_cl_0e_wl_3_ck_0

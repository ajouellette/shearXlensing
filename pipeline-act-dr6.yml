nside: 2048
binning:
    kind: linear
    ell_min: 10
    ell_max: 3000
    nbpws: 21
# place to save namaster workspaces
workspace_dir: "/home/aaronjo2/scratch/nmt_workspaces"

tracers:
    wl:
        name: "DES-Y3 shear maps"
        bins: 4
        data_dir: "/projects/caps/aaronjo2/shearXlensing/data/des_y3/maps"
        beam: pixwin
        healpix:
            map: "DESY3_zbin{bin}_nside{nside}_shearmaps.fits"
            mask: "DESY3_zbin{bin}_nside{nside}_mask.fits"
        # Fix sign convention for e1/e2 to that of Q/U: (e1, e2) -> (-e1, e2)
        correct_qu_sign: True

    #wl_cat:
    #    name: "DES-Y3 shear catalogs"
    #    bins: 4
    #    data_dir: "/projects/caps/aaronjo2/shearXlensing/data/des_y3/calibrated_catalogs"
    #    catalog:
    #        file: "DESY3_shearcat_zbin{bin}.fits"
    #        fields: ["g_1", "g_2"]
    #    correct_qu_sign: True

    ck:
        name: "ACT-DR6 CMB convergence"
        data_dir: "/projects/caps/aaronjo2/shearXlensing/data/act_dr6_lensing/maps/baseline"
        healpix:
            map: "kappa_map_nside{nside}.fits"
            mask: "kappa_mask_nside{nside}.fits"
        # square mask for CMB lensing field
        use_mask_squared: True

    ck_pol:
        name: "ACT-DR6 pol-only CMB convergence"
        data_dir: "/projects/caps/aaronjo2/shearXlensing/data/act_dr6_lensing/maps/polonly"
        healpix:
            map: "kappa_map_nside{nside}.fits"
            mask: "kappa_mask_nside{nside}.fits"
        # square mask for CMB lensing field
        use_mask_squared: True

# specify sets of cross-spectra (and corresponding covariances) to calculate
cross_spectra:
    list:
        - [tracer_ck, tracer_wl]
    covariance: True
    interbin_cov: True
    save_npz: "data/cross_cls/cross_spectra_actdr6_nside{nside}.npz"

cross_spectra_pol:
    list:
        - [tracer_ck_pol, tracer_wl]
    covariance: True
    interbin_cov: True
    save_npz: "data/cross_cls/cross_spectra_actdr6_pol_nside{nside}.npz"

#cross_spectra_cat:
#    list:
#        - [tracer_ck, tracer_wl_cat]
#    save_npz: "data/cross_cls/cross_spectra_actdr6_nside{nside}_catalog.npz"
#
#cross_spectra_cat_pol:
#    list:
#        - [tracer_ck_pol, tracer_wl_cat]
#    save_npz: "data/cross_cls/cross_spectra_actdr6_pol_nside{nside}_catalog.npz"

#cross_spectra_wl_psf:
#    list:
#        - [tracer_wl_psf, tracer_wl]
#    covariance: True
#    interbin_cov: False
